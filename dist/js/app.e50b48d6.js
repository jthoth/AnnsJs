(function(t){function e(e){for(var s,n,o=e[0],l=e[1],c=e[2],d=0,p=[];d<o.length;d++)n=o[d],Object.prototype.hasOwnProperty.call(i,n)&&i[n]&&p.push(i[n][0]),i[n]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(t[s]=l[s]);u&&u(e);while(p.length)p.shift()();return r.push.apply(r,c||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],s=!0,o=1;o<a.length;o++){var l=a[o];0!==i[l]&&(s=!1)}s&&(r.splice(e--,1),t=n(n.s=a[0]))}return t}var s={},i={app:0},r=[];function n(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=t,n.c=s,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)n.d(a,s,function(e){return t[e]}.bind(null,s));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/AnnJs/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var u=l;r.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},1864:function(t,e,a){},"2d55":function(t,e,a){const s=a("11c6");class i{constructor(t,e,a,s){this.architecture=t,this.func=a,this.cost=s,this.n_layers=t.length,this.W={},this.b={},this.activations={},this.weigthInitialization(t,e)}weigthInitialization(t,e){for(let a=0;a<this.n_layers-1;a++){let i=[t[a],t[a+1]],r=new e(i);this.W[a]=r.generate(),this.b[a]=s.zeros(i[1])}}generateDrawer(){let t=[["f(x)","W","w"]];for(let s=1;s<this.n_layers;s++)for(var e=0;e<this.architecture[s-1];e++)for(var a=0;a<this.architecture[s];a++)t.push([`L${s}(${e})`,`L${s+1}(${a})`,Math.abs(this.W[s-1].get(e,a))]);return t}addBiases(t,e){let a=[];return t.iteraxis(0,t=>{a.push(s.add(t,this.b[e]))}),s.stack(a)}forward(t){this.activations[0]=t;for(let e=1;e<this.n_layers;e++)t=this.addBiases(s.dot(t,this.W[e-1]),e-1),t=this.func.forward(t),this.activations[e]=t;return t}getInvActivatio(t){return this.activations[this.n_layers+t]}backwardLayer(t,e){const a=this.func.backward(this.getInvActivatio(t));return s.multiply(e,a)}computeDeltaWeithts(t,e,a){let i=this.getInvActivatio(-e).transpose().dot(t);return s.multiply(i,a)}updateWeights(t,e,a){let i=this.computeDeltaWeithts(t,e,a);this.W[this.n_layers-e]=s.add(this.W[this.n_layers-e],i),t.iteraxis(0,t=>{this.b[this.n_layers-e]=s.add(this.b[this.n_layers-e],t)})}backward(t,e,a){for(let s=2;s<this.n_layers+1;s++)t=e.dot(this.W[this.n_layers-s].transpose()),this.updateWeights(e,s,a),e=this.backwardLayer(-s,t)}gradientDescend(t,e,a=.1){let i=this.cost.backward(e,this.forward(t)),r=this.backwardLayer(-1,i);return this.backward(i,r,a),s.mean(s.abs(r))}validate(t,e){let a=0,s=this.cost.forward(e,this.forward(t)).tolist(),i=e.tolist();for(let r=0;r<i.length;r++)i[r].indexOf(Math.max(...i[r]))==s[r].indexOf(Math.max(...s[r]))&&a++;return Math.round(a/i.length*100)}}t.exports={NeuralNetwork:i}},"2f1d":function(t,e,a){const s=a("11c6");class i{static forward(t){return s.clip(t,0,1)}static backward(t){return s.multiply(t,0)}}class r{static forward(t){const e=s.add(s.exp(s.negative(t)),1);return s.divide(s.ones(t.shape),e)}static backward(t){const e=r.forward(t);return s.multiply(e,s.subtract(s.ones(t.shape),e))}}class n{static forward(t){const e=s.exp(t),a=s.exp(s.negative(t));return s.divide(s.subtract(e,a),s.add(e,a))}static backward(t){return s.subtract(s.ones(t.shape),s.power(s.tan(t),2))}}class o{static forward(t){return s.clip(t,0,Number.POSITIVE_INFINITY)}static backward(t){return t}}class l{static forward(t){let e=s.exp(s.subtract(t,t.max()));return s.divide(e,s.sum(e))}static backward(t){let e=s.dot(t.reshape(-1,1),t.reshape(1,-1));return s.subtract(s.diag(t.flatten()),e)}}class c{static get(t){let e={Relu:o,Tanh:n,Sigmoid:r};return e[t]}}t.exports={Step:i,Sigmoid:r,Tanh:n,Relu:o,Softmax:l,ActivationSelector:c}},4864:function(t,e,a){const s=a("8fd0"),{random:i}=a("69c0"),r=a("11c6");class n{constructor(t,e){this.__shape=t,this.__scale=e,this.options={avg:this.compute_avg,in:this.compute_in,out:this.compute_out}}compute_avg(t){return t.__scale/(t.__shape[0]+t.__shape[1])}compute_in(t){return t.__scale/t.__shape[0]}compute_out(t){return t.__scale/t.__shape[1]}get(t){return this.options[t](this)}}class o extends n{constructor(t,e=1){super(t,e)}buildWeights(t){let e=r.zeros(this.__shape);for(var a=0;a<this.__shape[0];a++)for(var s=0;s<this.__shape[1];s++)e.set(a,s,i(-t,t));return e}generate(){let t=3*Math.sqrt(this.get("avg"));return this.buildWeights(t)}}class l extends n{constructor(t,e=1){super(t,e)}buildWeights(t){let e=r.zeros(this.__shape);for(var a=0;a<this.__shape[0];a++)for(var i=0;i<this.__shape[1];i++)e.set(a,i,s({mean:0,dev:t}));return e}generate(){let t=Math.sqrt(this.get("in"))/.8796256610342398;return this.buildWeights(t)}}class c{constructor(t,e=.1){this.__shape=t,this.__value=e}buildWeights(){let t=r.zeros(this.__shape);for(var e=0;e<this.__shape[0];e++)for(var a=0;a<this.__shape[1];a++)t.set(e,a,this.__value);return t}generate(){return this.buildWeights()}}class u{static get(t){let e={Uniform:o,Normal:l};return e[t]}}t.exports={Uniform:o,Normal:l,Constant:c,InitSelector:u}},"56d7":function(t,e,a){"use strict";a.r(e);var s=a("2b0e"),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("v-app-bar",{attrs:{app:""}},[a("v-app-bar-nav-icon",{on:{click:function(e){e.stopPropagation(),t.drawer=!t.drawer}}}),a("v-toolbar-title",{staticClass:"headline text-uppercase"},[a("span",[t._v("CC5114")]),a("span",{staticClass:"font-weight-light"},[t._v(" Genetic Programming and Neural Nets")])]),a("v-spacer")],1),a("v-navigation-drawer",{attrs:{app:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[a("v-list",{attrs:{dense:"",nav:""}},t._l(t.items,function(e){return a("v-list-item",{key:e.title,attrs:{to:e.link}},[a("v-list-item-icon",[a("v-icon",[t._v(t._s(e.icon))])],1),a("v-list-item-content",[a("v-list-item-title",[t._v(t._s(e.title))])],1)],1)}),1)],1),a("v-content",[a("router-view")],1),a("v-footer",{attrs:{app:""}})],1)},r=[],n={name:"App",components:{},data:()=>({items:[{title:"Neural Nets",icon:"mdi-molecule",link:"/"},{title:"Genetic Algorithms",icon:"mdi-dna",link:"/algorithms"},{title:"Genetic Programming",icon:"mdi-transit-connection-variant",link:"/programming"},{title:"Neuroevolution",icon:"mdi-apache-kafka",link:"/evolution"},{title:"About",icon:"mdi-help-box",link:"/about"}],right:null,drawer:null})},o=n,l=a("2877"),c=a("6544"),u=a.n(c),d=a("7496"),p=a("40dc"),h=a("5bc1"),m=a("a75b"),v=a("553a"),f=a("132d"),g=a("8860"),b=a("da13"),_=a("5d23"),w=a("34c3"),N=a("f774"),y=a("2fa4"),x=a("2a7f"),k=Object(l["a"])(o,i,r,!1,null,null,null),C=k.exports;u()(k,{VApp:d["a"],VAppBar:p["a"],VAppBarNavIcon:h["a"],VContent:m["a"],VFooter:v["a"],VIcon:f["a"],VList:g["a"],VListItem:b["a"],VListItemContent:_["a"],VListItemIcon:w["a"],VListItemTitle:_["b"],VNavigationDrawer:N["a"],VSpacer:y["a"],VToolbarTitle:x["a"]});var S=a("f309");s["a"].use(S["a"]);var M=new S["a"]({icons:{iconfont:"mdi"}}),$=a("8c4f"),z=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{fluid:"","grid-list-xl":""}},[a("v-row",[a("ControlPanel"),a("v-col",{attrs:{cols:"8",md:"9"}},[a("v-card",{staticClass:"pa-2",attrs:{raised:"",tile:""}},[a("div",{staticClass:"overline mb-4"},[a("v-icon",[t._v("mdi-apache-kafka")]),t._v(" ARCHITECTURE")],1),a("GChart",{attrs:{type:"Sankey",data:t.$store.getters.connections,options:t.chartOptions,settings:t.chartSettings}}),a("div",{staticClass:"overline mb-2 mt-2"},[a("v-icon",[t._v("mdi-poll")]),t._v(" SUMMARY")],1),a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{attrs:{col:"3"}},[a("v-card",{staticClass:"pa-2",attrs:{flat:"",tile:""}},[a("div",{staticClass:"overline mb-2 mt-2"},[t._v(" Accuracy Train")]),a("v-col",{staticClass:"display-2",attrs:{cols:"12"}},[t._v("\n                  "+t._s(t.$store.state.metrics[0])+" %\n              ")])],1)],1),a("v-col",{attrs:{col:"3"}},[a("v-card",{staticClass:"pa-2",attrs:{flat:"",tile:""}},[a("div",{staticClass:"overline mb-2 mt-2"},[t._v(" Accuracy Test")]),a("v-col",{staticClass:"display-2",attrs:{cols:"12"}},[t._v("\n                  "+t._s(t.$store.state.metrics[1])+" %\n              ")])],1)],1),a("v-col",{attrs:{col:"2"}},[a("v-card",{staticClass:"pa-2",attrs:{flat:"",tile:""}})],1),a("v-col",{attrs:{col:"2"}},[a("v-card",{staticClass:"pa-2",attrs:{flat:"",tile:""}})],1)],1)],1)],1)],1)],1)},V=[],I=a("cb43"),A=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-col",{attrs:{cols:"2",md:"3"}},[a("v-card",{staticClass:"pa-2",attrs:{raised:"",tile:""}},[a("div",{staticClass:"overline mb-4"},[a("v-icon",[t._v("mdi-database")]),t._v(" DATA")],1),a("v-col",{attrs:{cols:"12"}},[a("v-select",{attrs:{label:"Dataset","item-text":"name","item-value":"value",items:t.datasets,outlined:""},on:{change:t.loadDataset},model:{value:t.dataset,callback:function(e){t.dataset=e},expression:"dataset"}}),a("v-select",{attrs:{label:"Normalization","item-text":"name","item-value":"value",items:t.normalizers,outlined:""},on:{change:t.loadDataset},model:{value:t.normalizer,callback:function(e){t.normalizer=e},expression:"normalizer"}}),a("div",{staticClass:"overline mb-4"},[a("v-icon",[t._v("mdi-settings")]),t._v(" Settings")],1),a("tags-input",{staticClass:"update-tag-style",attrs:{"element-id":"tags",typeahead:!1,placeholder:"Add hidden layers","allow-duplicates":!0},on:{"tags-updated":t.updateVisorNeuralNet},model:{value:t.$store.state.hiddens,callback:function(e){t.$set(t.$store.state,"hiddens",e)},expression:"$store.state.hiddens"}}),a("v-select",{staticClass:"mt-7",attrs:{label:"Weight Initializer","item-text":"name","item-value":"value",items:t.initializers,outlined:""},on:{change:t.updateVisorNeuralNet},model:{value:t.initializer,callback:function(e){t.initializer=e},expression:"initializer"}}),a("v-select",{attrs:{label:"Activation Function","item-text":"name","item-value":"value",items:t.activations,outlined:""},on:{change:t.updateVisorNeuralNet},model:{value:t.activation,callback:function(e){t.activation=e},expression:"activation"}}),a("v-select",{attrs:{label:"Cost Function","item-text":"name","item-value":"value",items:t.costFunctions,outlined:""},on:{change:t.updateVisorNeuralNet},model:{value:t.costFunction,callback:function(e){t.costFunction=e},expression:"costFunction"}}),a("label",{staticClass:"overline"},[t._v("Learning Reate "+t._s(t.lr))]),a("v-slider",{attrs:{max:1,min:0,step:.001},model:{value:t.lr,callback:function(e){t.lr=e},expression:"lr"}}),a("label",{staticClass:"overline"},[t._v("EPOCHS "+t._s(t.$store.state.epochs))]),a("v-slider",{attrs:{max:30,min:0,step:1},model:{value:t.$store.state.epochs,callback:function(e){t.$set(t.$store.state,"epochs",e)},expression:"$store.state.epochs"}})],1),a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{attrs:{col:"4"}},[a("v-btn",{staticClass:"mb-2",attrs:{block:""},on:{click:t.resetPage}},[t._v(" REFRESH ")])],1),a("v-col",{attrs:{col:"4"}},[a("v-btn",{staticClass:"mb-2",attrs:{block:""},on:{click:t.initTest}},[t._v(" TEST ")])],1),a("v-col",{attrs:{col:"4"}},[a("v-btn",{staticClass:"mb-2",attrs:{block:""},on:{click:t.initTrain}},[t._v(" TRAIN ")])],1)],1)],1)],1)},T=[],D={name:"ControlPanel",data(){return{datasets:[{name:"Seeds",value:"/AnnJs/seeds_dataset.csv"},{name:"Iris",value:"/AnnJs/iris_dataset.csv"},{name:"Wine Quality",value:"/AnnJs/winequality.csv"}],normalizers:[{name:"Max Min Norm",value:"maxMinNorm"},{name:"Z-Score Norm",value:"zScoreNorm"}],initializers:[{name:"Xavier Uniform",value:"Uniform"},{name:"He Normal",value:"Normal"}],activations:[{name:"Sigmoid",value:"Sigmoid"},{name:"Thangent",value:"Tanh"},{name:"Relu",value:"Relu"}],costFunctions:[{name:"Mean Square Error",value:"SquareError"}],lr:.1,epochs:0,dataset:"",normalizer:"zScoreNorm",initializer:"Normal",activation:"Relu",costFunction:"SquareError"}},methods:{loadDataset:function(){this.$store.commit("updateUrl",this.dataset),this.$store.commit("updateNormMethod",this.normalizer),this.$store.commit("updateInitMethod",this.initializer),this.$store.commit("updateActMethod",this.activation),this.$store.commit("updateCostMethod",this.costFunction),this.$store.commit("updateMetrics",[0,0]),this.$store.commit("updateEpochs",0),this.$store.dispatch("loadData")},updateVisorNeuralNet:function(){this.$store.commit("updateMetrics",[0,0]),this.$store.commit("updateEpochs",0),this.$store.dispatch("updateVisorNeuralNet")},initTrain:function(){this.$store.commit("updateLearningRate",this.lr),this.$store.commit("updateMetrics",[0,0]),this.$store.dispatch("trainNeuralNet")},initTest:function(){this.$store.dispatch("testNeuralNet")},resetPage:function(){location.reload()}}},E=D,O=a("8336"),W=a("b0af"),P=a("62ad"),R=a("0fd9"),F=a("b974"),L=a("ba0d"),j=Object(l["a"])(E,A,T,!1,null,null,null),q=j.exports;u()(j,{VBtn:O["a"],VCard:W["a"],VCol:P["a"],VIcon:f["a"],VRow:R["a"],VSelect:F["a"],VSlider:L["a"]});var U={name:"MainNeuralNet",components:{ControlPanel:q,GChart:I["GChart"]},data(){return{chartOptions:{sankey:{node:{interactivity:!0}},height:500,tooltip:{isHtml:!0}},chartSettings:{packages:["sankey","table"]}}}},H=U,G=(a("bfc9"),a("a523")),J=Object(l["a"])(H,z,V,!1,null,null,null),B=J.exports;u()(J,{VCard:W["a"],VCol:P["a"],VContainer:G["a"],VIcon:f["a"],VRow:R["a"]}),s["a"].use($["a"]);const Y=[{path:"/",component:B},{path:"/algorithms",component:B},{path:"/programming",component:B},{path:"/evolution",component:B},{path:"/about",component:B}];var Z=new $["a"]({routes:Y}),Q=a("2f62"),X=a("bc3a"),K=a.n(X),tt=a("6bf4"),et=a("4864"),at=a("2d55"),st=a("2f1d"),it=a("d40e");s["a"].use(Q["a"]);const rt=new Q["a"].Store({state:{url:null,connections:[],net:null,normalization:"maxMinNorm",initialization:"Normal",activation:"Relu",cost:"SquareError",lr:.1,epochs:0,data:null,hiddens:[],metrics:[0,0]},mutations:{updateUrl(t,e){t.url=e},updateNormMethod(t,e){t.normalization=e},updateInitMethod(t,e){t.initialization=e},updateActMethod(t,e){t.activation=e},updateCostMethod(t,e){t.cost=e},updateNeuralNet(t,e){t.net=e},updateConnections(t,e){t.connections=e},updateHiddens(t,e){t.hiddens=e},updateData(t,e){t.data=e},updateLearningRate(t,e){t.lr=e},updateEpochs(t,e){t.epochs=e},updateMetrics(t,e){t.metrics=e}},actions:{async loadData({commit:t,state:e}){const a=await K.a.get(e.url);let s=new tt["Data"](a.data,tt["NormSelector"].get(e.normalization));t("updateData",s.get()),t("updateHiddens",[{key:"",value:e.data[0].shape[1]+2}])},async updateVisorNeuralNet({commit:t,state:e}){let a=e.hiddens.map(t=>parseInt(t.value));a.unshift(e.data[0].shape[1]),a.push(e.data[2].shape[1]);let s=new at["NeuralNetwork"](a,et["InitSelector"].get(e.initialization),st["ActivationSelector"].get(e.activation),it["CostSelector"].get(e.cost));t("updateNeuralNet",s),t("updateConnections",s.generateDrawer())},async trainNeuralNet({commit:t,state:e}){e.net.gradientDescend(e.data[0],e.data[2],e.lr),t("updateConnections",e.net.generateDrawer());let a=e.net.validate(e.data[0],e.data[2]),s=e.net.validate(e.data[1],e.data[3]);t("updateMetrics",[a,s]),t("updateEpochs",e.epochs+1)},async testNeuralNet({commit:t,state:e}){let a=e.net.validate(e.data[0],e.data[2]),s=e.net.validate(e.data[1],e.data[3]);t("updateMetrics",[a,s])}},getters:{connections:t=>t.connections,url:t=>t.url,hiddens:t=>t.hiddens,data:t=>t.data,metrics:t=>t.metrics,epochs:t=>t.epochs}});var nt=a("0b72");s["a"].config.productionTip=!1,s["a"].component("tags-input",nt["a"]),new s["a"]({vuetify:M,router:Z,store:rt,render:t=>t(C)}).$mount("#app")},"6bf4":function(t,e,a){const s=a("11c6");class i{static apply(t){let e=[];return t.iteraxis(1,t=>{let a=s.subtract(t,t.min());e.push(s.divide(a,t.max()-t.min()))}),s.stack(e).transpose()}}class r{static apply(t){let e=[];return t.iteraxis(1,t=>{let a=s.subtract(t,t.mean());e.push(s.divide(a,t.std()))}),s.stack(e).transpose()}}class n{constructor(t,e){this.dataString=t,this.normMethod=e}getParsedData(){let t=this.dataString.split("\n").map(t=>t.split(",").map(parseFloat));return t}toCategorical(t){let e=s.zeros([t.shape[0],t.max()]);for(var a=0;a<t.shape[0];a++)e.set(a,t.get(a)-1,1);return e}shuffle(t){for(let e=t.length-1;e>0;e--){let a=Math.floor(Math.random()*(e+1));[t[e],t[a]]=[t[a],t[e]]}return s.array(t)}build(t){let e=t.slice(null,[null,-1]);e=this.normMethod.apply(e);let a=t.slice(null,e.shape[1]).flatten(),s=this.toCategorical(a);return[e,s]}get(t=.8){let[e,a]=this.build(this.shuffle(this.getParsedData())),s=Math.floor(e.shape[0]*t);return[e.slice([null,s],null),e.slice(s,null),a.slice([null,s],null),a.slice(s,null)]}}class o{static get(t){let e={maxMinNorm:i,zScoreNorm:r};return e[t]}}t.exports={Data:n,ZscoreNormalizer:r,MaxMinNormalizer:i,NormSelector:o}},bfc9:function(t,e,a){"use strict";var s=a("1864"),i=a.n(s);i.a},d40e:function(t,e,a){const s=a("11c6");class i{static forward(t,e){return s.multiply(s.power(s.subtract(t,e),2),.5)}static backward(t,e){return s.subtract(t,e)}}class r{static get(t){let e={SquareError:i};return e[t]}}t.exports={CostSelector:r,SquareError:i}}});
//# sourceMappingURL=app.e50b48d6.js.map